<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faculty Analytics Dashboard - Demo</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .analytics-container {
            background: linear-gradient(135deg, var(--dark-bg) 0%, #1e293b 50%, var(--dark-bg) 100%);
            min-height: 100vh;
            padding: 1rem;
        }
        
        .analytics-header {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            opacity: 0.8;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .stat-label {
            color: var(--gray-text);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .chart-container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .chart-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--light-text);
        }
        
        .live-feed {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1.5rem;
            height: 400px;
            overflow-y: auto;
        }
        
        .feed-item {
            display: flex;
            align-items: center;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border-left: 3px solid #10b981;
        }
        
        .feed-icon {
            margin-right: 1rem;
            color: #10b981;
        }
        
        .feed-content {
            flex: 1;
        }
        
        .feed-time {
            font-size: 0.8rem;
            color: var(--gray-text);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .session-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .session-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .session-status {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-active {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }
        
        .two-column {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
        }
        
        @media (max-width: 768px) {
            .two-column {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="analytics-container">
        <!-- Header -->
        <div class="analytics-header">
            <h1><i class="fas fa-chart-line"></i> Real-time Analytics Dashboard</h1>
            <p>Live insights for Computer Science 101 - Dr. John Smith</p>
        </div>

        <!-- Stats Grid -->
        <div class="analytics-grid">
            <div class="stat-card">
                <div class="stat-icon pulse"><i class="fas fa-users" style="color: #3b82f6;"></i></div>
                <div class="stat-number" id="totalStudents">24</div>
                <div class="stat-label">Total Students</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-check-circle" style="color: #10b981;"></i></div>
                <div class="stat-number" id="presentCount">18</div>
                <div class="stat-label">Present</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="attendanceProgress" style="width: 75%;"></div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-clock" style="color: #f59e0b;"></i></div>
                <div class="stat-number" id="lateCount">3</div>
                <div class="stat-label">Late Arrivals</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-percentage" style="color: #8b5cf6;"></i></div>
                <div class="stat-number" id="attendanceRate">87%</div>
                <div class="stat-label">Attendance Rate</div>
            </div>
        </div>

        <!-- Active Session -->
        <div class="session-card">
            <div class="session-header">
                <h3><i class="fas fa-qrcode"></i> Active Session</h3>
                <span class="session-status status-active">LIVE</span>
            </div>
            <p><strong>Subject:</strong> Computer Science 101</p>
            <p><strong>Room:</strong> Lab 204</p>
            <p><strong>Started:</strong> 2:30 PM | <strong>Expires:</strong> 2:40 PM</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 60%;"></div>
            </div>
            <small>6 minutes remaining</small>
        </div>

        <!-- Two Column Layout -->
        <div class="two-column">
            <!-- Charts Section -->
            <div>
                <!-- Attendance Trend Chart -->
                <div class="chart-container">
                    <div class="chart-title">ðŸ“ˆ Attendance Trend (Last 7 Days)</div>
                    <canvas id="trendChart" width="400" height="200"></canvas>
                </div>

                <!-- Subject Comparison Chart -->
                <div class="chart-container">
                    <div class="chart-title">ðŸ“Š Subject-wise Performance</div>
                    <canvas id="subjectChart" width="400" height="200"></canvas>
                </div>

                <!-- Attendance Distribution Pie Chart -->
                <div class="chart-container">
                    <div class="chart-title">ðŸ¥§ Attendance Distribution</div>
                    <canvas id="pieChart" width="400" height="200"></canvas>
                </div>
            </div>

            <!-- Live Feed -->
            <div>
                <div class="live-feed">
                    <h3 style="margin-bottom: 1rem;"><i class="fas fa-broadcast-tower"></i> Live Activity Feed</h3>
                    
                    <div class="feed-item">
                        <div class="feed-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="feed-content">
                            <div>Alice Johnson marked present</div>
                            <div class="feed-time">2 seconds ago</div>
                        </div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="feed-icon"><i class="fas fa-clock"></i></div>
                        <div class="feed-content">
                            <div>Bob Wilson marked late</div>
                            <div class="feed-time">15 seconds ago</div>
                        </div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="feed-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="feed-content">
                            <div>Carol Davis marked present</div>
                            <div class="feed-time">32 seconds ago</div>
                        </div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="feed-icon"><i class="fas fa-map-marker-alt"></i></div>
                        <div class="feed-content">
                            <div>David Brown - Location verified</div>
                            <div class="feed-time">45 seconds ago</div>
                        </div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="feed-icon"><i class="fas fa-user-check"></i></div>
                        <div class="feed-content">
                            <div>Eva Singh - Face verified</div>
                            <div class="feed-time">1 minute ago</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Attendance Trend Chart
        const trendCtx = document.getElementById('trendChart').getContext('2d');
        new Chart(trendCtx, {
            type: 'line',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [{
                    label: 'Attendance %',
                    data: [85, 92, 78, 89, 94, 87, 91],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: { beginAtZero: true, max: 100 }
                }
            }
        });

        // Subject Comparison Chart
        const subjectCtx = document.getElementById('subjectChart').getContext('2d');
        new Chart(subjectCtx, {
            type: 'bar',
            data: {
                labels: ['CS 101', 'Math 201', 'Physics 301', 'Chem 101'],
                datasets: [{
                    label: 'Avg Attendance %',
                    data: [87, 92, 78, 85],
                    backgroundColor: [
                        'rgba(59, 130, 246, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(245, 158, 11, 0.8)',
                        'rgba(139, 92, 246, 0.8)'
                    ]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: { beginAtZero: true, max: 100 }
                }
            }
        });

        // Pie Chart for Attendance Distribution
        const pieCtx = document.getElementById('pieChart').getContext('2d');
        new Chart(pieCtx, {
            type: 'pie',
            data: {
                labels: ['Present', 'Late', 'Absent'],
                datasets: [{
                    data: [18, 3, 3],
                    backgroundColor: [
                        '#10b981',
                        '#f59e0b', 
                        '#ef4444'
                    ],
                    borderWidth: 2,
                    borderColor: '#1e293b'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#e2e8f0',
                            padding: 20
                        }
                    }
                }
            }
        });

        // Simulate real-time updates
        function simulateRealTimeUpdates() {
            const students = ['John Doe', 'Jane Smith', 'Mike Johnson', 'Sarah Wilson', 'Tom Brown'];
            const actions = [
                { icon: 'check-circle', text: 'marked present', color: '#10b981' },
                { icon: 'clock', text: 'marked late', color: '#f59e0b' },
                { icon: 'map-marker-alt', text: 'location verified', color: '#3b82f6' },
                { icon: 'user-check', text: 'face verified', color: '#8b5cf6' }
            ];

            setInterval(() => {
                const student = students[Math.floor(Math.random() * students.length)];
                const action = actions[Math.floor(Math.random() * actions.length)];
                
                const feedContainer = document.querySelector('.live-feed');
                const newItem = document.createElement('div');
                newItem.className = 'feed-item';
                newItem.innerHTML = `
                    <div class="feed-icon" style="color: ${action.color}"><i class="fas fa-${action.icon}"></i></div>
                    <div class="feed-content">
                        <div>${student} ${action.text}</div>
                        <div class="feed-time">just now</div>
                    </div>
                `;
                
                feedContainer.insertBefore(newItem, feedContainer.children[1]);
                
                // Remove old items
                if (feedContainer.children.length > 8) {
                    feedContainer.removeChild(feedContainer.lastChild);
                }
                
                // Update counters
                if (action.text === 'marked present') {
                    const presentCount = document.getElementById('presentCount');
                    const current = parseInt(presentCount.textContent);
                    presentCount.textContent = current + 1;
                    
                    // Update progress
                    const progress = ((current + 1) / 24) * 100;
                    document.getElementById('attendanceProgress').style.width = progress + '%';
                    document.getElementById('attendanceRate').textContent = Math.round(progress) + '%';
                }
                
            }, 3000); // New update every 3 seconds
        }

        // Start simulation
        simulateRealTimeUpdates();

        // Animate counters on load
        function animateCounters() {
            const counters = document.querySelectorAll('.stat-number');
            counters.forEach(counter => {
                const target = parseInt(counter.textContent);
                let current = 0;
                const increment = target / 50;
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    counter.textContent = Math.floor(current) + (counter.textContent.includes('%') ? '%' : '');
                }, 30);
            });
        }

        // Initialize
        window.addEventListener('load', () => {
            setTimeout(animateCounters, 500);
        });
    </script>
</body>
</html>